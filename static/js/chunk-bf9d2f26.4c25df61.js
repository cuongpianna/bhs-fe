(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bf9d2f26","chunk-1b636ea1"],{4663:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"module-list"},[n("div",{staticClass:"header"},[n("div",{staticClass:"title"},[e._v(e._s(e.generateTitleView("servicePackage","service")))]),n("div",{staticClass:"btn btn-primary",on:{click:function(t){e.dialogPackage=!0}}},[e._v(e._s(e.generateTitleView("addNew","common")))])]),n("div",{staticClass:"wrapper-header"},[n("div",{staticClass:"title-category"},[e._v(e._s(e.generateTitleView("list","common"))+" ")])]),n("vs-table",{scopedSlots:e._u([{key:"thead",fn:function(){return[n("vs-tr",[n("vs-th",{staticClass:"title "},[n("div",{staticClass:"title-table"},[e._v("#")])]),n("vs-th",{staticStyle:{width:"200px"}},[n("div",{staticClass:"title-table"},[e._v(e._s(e.generateTitleView("function","module")))])]),n("vs-th",{staticStyle:{width:"200px"}})],1)]},proxy:!0},{key:"tbody",fn:function(){return e._l(e.data,(function(t,a){return n("vs-tr",{key:a,attrs:{data:t}},[n("vs-td",[e._v(" "+e._s(t.name)+" ")]),n("vs-td",{attrs:{align:"center"}},[n("span",{staticClass:"number"},[e._v(e._s(t.description))])]),n("vs-td",{attrs:{align:"center"}},[n("div",{staticClass:"action-button"},[n("button",{staticClass:"btn btn-primary btn-edit__item",on:{click:e.showDialog}},[n("font-awesome-icon",{staticClass:"icon",attrs:{icon:"pen"}}),n("span",[e._v(e._s(e.generateTitleView("edit","common")))])],1),n("button",{staticClass:"btn btn-danger btn-remove__item"},[n("font-awesome-icon",{staticClass:"icon",attrs:{icon:"trash"}}),n("span",[e._v(e._s(e.generateTitleView("delete","common")))])],1)])])],1)}))},proxy:!0}])}),n("vs-dialog",{staticClass:"dialog-open",attrs:{"overflow-hidden":""},scopedSlots:e._u([{key:"header",fn:function(){return[n("h4",{staticClass:"not-margin"},[e._v(" "+e._s(e.generateTitleView("functionInfo","function"))+" ")])]},proxy:!0}]),model:{value:e.dialogPackage,callback:function(t){e.dialogPackage=t},expression:"dialogPackage"}},[n("div",{staticClass:"page-container"},[n("vs-input",{staticClass:"full-width",attrs:{border:"",placeholder:e.generateTitleView("functionName","function")},scopedSlots:e._u([{key:"icon",fn:function(){return[n("i",{staticClass:"bx bx-copy-alt"})]},proxy:!0}]),model:{value:e.functionObj.name,callback:function(t){e.$set(e.functionObj,"name",t)},expression:"functionObj.name"}})],1)])],1)},i=[],r=n("79fa"),s={name:"ListFunction",props:{data:{type:Array,default:function(){return[]}}},data:function(){return{dialogOpen:!1,formTitle:"Thông tin chức năng",dialogPackage:!1,functionObj:{name:"",description:""}}},methods:{showDialog:function(){this.dialogOpen=!0},generateTitleView:r["a"]}},o=s,c=(n("8849"),n("2877")),l=Object(c["a"])(o,a,i,!1,null,"58dff7b6",null);t["default"]=l.exports},"61cd":function(e,t,n){},7362:function(e,t,n){"use strict";var a=n("8af6"),i=n.n(a);i.a},8849:function(e,t,n){"use strict";var a=n("61cd"),i=n.n(a);i.a},"8af6":function(e,t,n){},"9a47":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper-select"},[n("a-tree",{attrs:{checkable:"","show-line":!0,"show-icon":!0,"expand-all":!0,"tree-data":e.data,"checked-keys":e.checknode,"expanded-keys":e.defaultExpandedKeys,"replace-fields":{id:"key",title:"label"}},on:{"update:expandedKeys":function(t){e.defaultExpandedKeys=t},"update:expanded-keys":function(t){e.defaultExpandedKeys=t},check:e.handleCheckChange},model:{value:e.checkedKeys,callback:function(t){e.checkedKeys=t},expression:"checkedKeys"}})],1)},i=[],r={name:"SelectCategory",props:{data:{type:Array,default:function(){return[]}},checked:{type:Array,default:function(){return[]}},defaultProps:{children:"children",label:"label"}},data:function(){return{checknode:[],defaultExpandedKeys:[],checkedKeys:[]}},watch:{checked:{handler:function(e){var t=this;setTimeout((function(){t.checknode=e,t.defaultExpandedKeys=e,t.checkedKeys=e}),500)}}},mounted:function(){this.checknode=this.checked},methods:{handleCheckChange:function(){this.$emit("onChange",this.checkedKeys)}}},s=r,o=(n("7362"),n("2877")),c=Object(o["a"])(s,a,i,!1,null,"50d2b0d6",null);t["a"]=c.exports},b6a4:function(e,t,n){},d763:function(e,t,n){"use strict";var a=n("b6a4"),i=n.n(a);i.a},d9c7:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-container"},[n("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(t){var a=t.handleSubmit;return[n("form",{on:{submit:function(t){return t.preventDefault(),a(e.handleSubmitModule)}}},[n("sticky",{attrs:{"z-index":10}},[n("div",{staticClass:"page-header"},[n("div",{staticClass:"left"},[n("div",{staticClass:"meta-title"},[e._v(e._s(e.formTitle))])]),n("div",{staticClass:"right"},[n("vs-checkbox",{model:{value:e.formCreate.isActive,callback:function(t){e.$set(e.formCreate,"isActive",t)},expression:"formCreate.isActive"}},[e._v(e._s(e.generateTitleView("active","common")))]),n("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v(e._s(e.saveButton))]),n("button",{staticClass:"btn btn-danger",attrs:{type:"reset"},on:{click:e.redirectModuleList}},[e._v(e._s(e.generateTitleView("cancel","common")))])],1)])]),n("div",{staticClass:"page-content"},[n("div",{staticClass:"inner_content bhs-card"},[n("h4",{staticClass:"heading-create"},[e._v(e._s(e.generateTitleView("moduleInfo","module")))]),n("div",{staticClass:"row-wrap"},[n("div",{staticClass:"row-title required-text"},[e._v(e._s(e.generateTitleView("moduleName","module")))]),n("ValidationProvider",{attrs:{rules:"required",name:e.generateTitleView("moduleInfo","module")},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[n("input",{directives:[{name:"model",rawName:"v-model",value:e.formCreate.name,expression:"formCreate.name"}],staticClass:"form-control input",attrs:{"auto-resize":!0,disabled:!e.isCreate},domProps:{value:e.formCreate.name},on:{input:function(t){t.target.composing||e.$set(e.formCreate,"name",t.target.value)}}}),n("span",{staticClass:"vee-errors"},[e._v(e._s(a[0]))])]}}],null,!0)})],1),n("div",{staticClass:"row-wrap"},[n("div",{staticClass:"row-title required-text"},[e._v(e._s(e.generateTitleView("description","common")))]),n("p",{staticClass:"row-desc desc-create"},[e._v(" "+e._s(e.generateTitleView("moduleDescQuote","module"))+" ")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.formCreate.description,expression:"formCreate.description"}],staticClass:"form-control text-area",attrs:{"auto-resize":!0,rows:"5"},domProps:{value:e.formCreate.description},on:{input:function(t){t.target.composing||e.$set(e.formCreate,"description",t.target.value)}}})])]),n("div",{staticClass:"inner_info"},[n("div",{staticClass:"bhs-card"},[n("h4",{staticClass:"heading-create"},[e._v(e._s(e.generateTitleView("roleInfo","module")))]),n("div",{staticClass:"row-wrap"},[n("div",{staticClass:"row-title required-text"},[e._v(e._s(e.generateTitleView("function","module")))]),n("select-category",{attrs:{data:e.nodeFunction,checked:e.nodeDefault},on:{onChange:e.onNodeTree}})],1)]),n("div",{staticClass:"bhs-card",staticStyle:{"margin-top":"15px"}},[n("list-function",{attrs:{data:e.listFunction}})],1)])])],1)]}}])})],1)},i=[],r=(n("a4d3"),n("e01a"),n("4de4"),n("4160"),n("159b"),n("b85c")),s=(n("96cf"),n("1da1")),o=n("5530"),c=n("2f62"),l=n("9a47"),u=n("b804"),d=n("79fa"),f=n("4663"),m=n("7f08"),p=n("b35e"),h={name:"",title:"Module",model:"module/",fucn:"function/"},v={name:"",description:"",isActive:!0,RoleModule:{}},g={name:"CreatePermission",components:{ListFunction:f["default"],SelectCategory:l["a"],Sticky:u["a"]},mixins:[p["a"]],data:function(){return{formCreate:JSON.parse(JSON.stringify(v)),isLoading:!1,formTitle:null!=this.$router.currentRoute.params.id?this.generateTitleView("editModule","module"):this.generateTitleView("createModule","module"),saveButton:null!=this.$router.currentRoute.params.id?this.generateTitleView("update","common"):this.generateTitleView("addNew","common"),nodeFunction:[],nodeDefault:[],isCreate:!0}},computed:Object(o["a"])({},Object(c["c"])({listFunction:h.fucn+"listFunction",totalFunction:h.fucn+"totalFunction"})),mounted:function(){var e=this.$router.currentRoute.params.id;"undefined"!==typeof e&&null!=e&&(this.moduleDetail(e),this.isCreate=!1),this.getFunction()},methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])({actListFunction:h.fucn+m["a"],actCreateModule:"module/Create",actUpdateModule:"module/Edit"})),{},{handleSubmitModule:function(){null!=this.$router.currentRoute.params.id?this.editModule():this.createModule()},editModule:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.actUpdateModule(e.formCreate);case 2:n=t.sent,e.handleShowNotification(n),e.redirectModuleList();case 5:case"end":return t.stop()}}),t)})))()},createModule:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.actCreateModule(e.formCreate);case 2:n=t.sent,e.handleShowNotification(n),e.redirectModuleList();case 5:case"end":return t.stop()}}),t)})))()},moduleDetail:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch(h.model+"FetchOne",{id:e}).then((function(e){var n=e.payload,a=n.records[0];a.moduleFunction.forEach((function(e){t.nodeDefault.push(e.id)})),t.formCreate=JSON.parse(JSON.stringify(a))}));case 2:case"end":return n.stop()}}),n)})))()},getFunction:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.actListFunction(1,1e3).then((function(t){var n=t.payload;n.records.forEach((function(t){var n={label:t.description,key:t.id};e.nodeFunction.push(n)}))}));case 2:case"end":return t.stop()}}),t)})))()},onNodeTree:function(e){var t,n=this,a=[],i=Object(r["a"])(e);try{var s=function(){var e=t.value,i=n.listFunction.filter((function(t){return t.id===e}))[0];a.push(i)};for(i.s();!(t=i.n()).done;)s()}catch(o){i.e(o)}finally{i.f()}this.formCreate.moduleFunction=a},redirectModuleList:function(){this.$router.push("/setting/module")},generateTitleView:d["a"]})},C=g,b=(n("d763"),n("2877")),w=Object(b["a"])(C,a,i,!1,null,"43e3edf1",null);t["default"]=w.exports}}]);