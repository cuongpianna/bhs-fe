(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-127b960a"],{"35bb":function(e,t,a){},"4f71":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"pageContainer",staticClass:"wrap"},[a("div",{staticClass:"media-header"},[a("upload-file",{attrs:{name:e.generateTitleView("selectImage","media")},on:{onUpload:e.onUploadMedia}}),a("button",{staticClass:"btn btn-primary",on:{click:e.openDialogFolder}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:["far","folder"]}}),e._v(" "+e._s(e.generateTitleView("addFolder","media"))+" ")],1),a("button",{staticClass:"btn btn-danger",on:{click:function(t){e.dialogDelete=!0}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:["far","trash-alt"]}}),e._v(" "+e._s(e.generateTitleView("delete","common"))+" ")],1),a("vs-dialog",{staticClass:"dialog-folder",scopedSlots:e._u([{key:"header",fn:function(){return[a("h4",{staticClass:"not-margin title-dialog"},[e._v(" "+e._s(e.folderTitle)+" ")])]},proxy:!0}]),model:{value:e.dialogFolder,callback:function(t){e.dialogFolder=t},expression:"dialogFolder"}},[a("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(t){var i=t.handleSubmit,r=t.reset;return[a("form",{on:{submit:function(t){return t.preventDefault(),i(e.handleSubmitFolder)},reset:function(e){return e.preventDefault(),r(e)}}},[a("div",{staticClass:"folder-wrap"},[a("ValidationProvider",{attrs:{rules:"required",name:"Tên thư mục"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.folder.name,expression:"folder.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.generateTitleView("folderName","media")},domProps:{value:e.folder.name},on:{input:function(t){t.target.composing||e.$set(e.folder,"name",t.target.value)}}}),a("span",{staticClass:"vee-errors"},[e._v(e._s(i[0]))])]}}],null,!0)})],1),a("div",{staticClass:"con-footer"},[a("vs-button",{attrs:{type:"submit"}},[e._v(" "+e._s(e.generateTitleView("confirm","common"))+" ")]),a("vs-button",{attrs:{type:"reset",dark:"",transparent:""},on:{click:function(t){e.dialogFolder=!1}}},[e._v(" "+e._s(e.generateTitleView("cancel","common"))+" ")])],1)])]}}])})],1),a("vs-dialog",{staticClass:"dialogDelete",attrs:{width:"350px","not-center":""},scopedSlots:e._u([{key:"header",fn:function(){return[a("h4",{staticClass:"not-margin title-dialog"},[e._v(" "+e._s(e.generateTitleView("infoDialog","common"))+" ")])]},proxy:!0},{key:"footer",fn:function(){return[a("div",{staticClass:"con-footer"},[a("vs-button",{on:{click:e.confirmDeleteFolder}},[e._v(" "+e._s(e.generateTitleView("confirm","common"))+" ")]),a("vs-button",{attrs:{dark:"",transparent:""},on:{click:function(t){e.dialogDelete=!1}}},[e._v(" "+e._s(e.generateTitleView("cancel","common"))+" ")])],1)]},proxy:!0}]),model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("div",{staticClass:"con-content"},[a("p",[e._v(" "+e._s(e.generateTitleView("confirmDelete","common"))+" ")])])])],1),a("div",{staticClass:"media-search"},[a("folder-bread-crumb"),a("div",{staticClass:"search-form"},[a("font-awesome-icon",{staticClass:"search-icon",attrs:{icon:"search"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.listQuery.name,expression:"listQuery.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.generateTitleView("searchFolder","media")},domProps:{value:e.listQuery.name},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getListFolder(t)},input:function(t){t.target.composing||e.$set(e.listQuery,"name",t.target.value)}}})],1)],1),a("div",{staticClass:"media-content"},[a("div",{staticClass:"left"},[a("folder-list",{attrs:{"selected-folder":e.selectedFolder,"list-folder":e.listFolder,"list-files":e.listFiles},on:{"one-click":e.oneClick,"dbl-click":e.dblClick}})],1),a("div",{staticClass:"right"},[null!=e.selectedFolder.id?a("folder-select",{attrs:{"selected-folder":e.selectedFolder},on:{"edit-folder":e.editFolder}}):e._e(),null!=e.selectedFile.id?a("file-selected"):e._e()],1)]),a("b-h-s-pagination",{directives:[{name:"show",rawName:"v-show",value:e.totalFiles,expression:"totalFiles"}],staticClass:"pagination",attrs:{total:e.totalFiles,"page-sizes":[15,30,45,60],page:e.listQuery.current_page,limit:e.listQuery.page_size},on:{"update:page":function(t){return e.$set(e.listQuery,"current_page",t)},"update:limit":function(t){return e.$set(e.listQuery,"page_size",t)},pagination:e.getListFolder}})],1)},r=[],l=(a("b0c0"),a("96cf"),a("1da1")),o=a("5530"),n=a("b35e"),s=a("2f62"),d=a("a7ca"),c=a.n(d),u=a("409d"),m=a("c9da"),f=a("0e2f"),p=a("b42a"),g=a("4c17"),F=a("e0d2"),v=a("79fa"),h={name:"MediaCategoryDetail",components:{Card:c.a,FolderSelect:u["a"],UploadFile:m["a"],FolderList:f["a"],BHSPagination:p["a"],FileSelected:g["a"],FolderBreadCrumb:F["a"]},mixins:[n["a"]],data:function(){return{dialogDelete:!1,loading:!1,isEditFolder:!1,dialogFolder:!1,folderTitle:this.generateTitleView("folderInfo","media"),folder:{name:"",parentId:"",isActive:!0,isDelete:!1},listQuery:{name:"",parentId:"",current_page:1,page_size:15}}},computed:Object(o["a"])({},Object(s["c"])({totalFolder:"media/totalFolder",listFolder:"media/listFolder",listFiles:"media/listFiles",selectedFolder:"media/selectedFolder",totalFiles:"media/totalFiles",selectedFile:"media/selectedFile"})),mounted:function(){this.actGetBreadcrumb(this.$router.currentRoute.params.id),this.listQuery={parentId:this.$router.currentRoute.params.id,name:"",current_page:1,page_size:15},this.getListFolder(),this.mutSelectFolder({})},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(s["d"])({mutSelectFolder:"media/selectFolder",mutAddMediaFile:"media/addMediaFile"})),Object(s["b"])({actCreateFolder:"media/createFolder",actGetListFolder:"media/getAllFolderByParent",actDeleteFolder:"media/deleteFolder",actDeleteFile:"media/deleteFile",actGetBreadcrumb:"media/getBreadcrumb"})),{},{openDialogFolder:function(){this.folder.name="",this.isEditFolder=!1,this.dialogFolder=!0},closeDialogFolder:function(){this.dialogFolder=!1},handleSubmitFolder:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.folder.userId=e.userId,e.folder.parentId=e.$router.currentRoute.params.id,t.next=4,e.actCreateFolder(e.folder);case 4:a=t.sent,e.handleShowNotification(a),e.closeDialogFolder(),e.getListFolder();case 8:case"end":return t.stop()}}),t)})))()},getListFolder:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$vs.loading({type:"scale",target:e.$refs.pageContainer}),t.next=3,e.actGetListFolder({parentId:e.listQuery.parentId,name:e.listQuery.name,userId:e.userId,current_page:e.listQuery.current_page,page_size:e.listQuery.page_size});case 3:a.close();case 4:case"end":return t.stop()}}),t)})))()},confirmDeleteFolder:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!=e.selectedFolder.id||void 0!==e.selectedFile.id){t.next=4;break}e.openNotification("top-right","warn","",e.generateTitleView("infoDialog","common"),e.generateTitleView("selectToDelete","media")),t.next=14;break;case 4:if(null==e.selectedFolder.id){t.next=9;break}return t.next=7,e.actDeleteFolder(e.selectedFolder.id);case 7:t.next=12;break;case 9:if(null==e.selectedFile.id){t.next=12;break}return t.next=12,e.actDeleteFile(e.selectedFile.id);case 12:e.getListFolder(),e.dialogDelete=!1;case 14:case"end":return t.stop()}}),t)})))()},redirectFolderDetail:function(e){this.$router.push("/media/folder/"+e.id)},oneClick:function(e){this.mutSelectFolder(e)},dblClick:function(e){this.redirectFolderDetail(e)},editFolder:function(){this.isEditFolder=!0,this.dialogFolder=!0,this.folder={name:this.selectedFolder.name,isActive:!0,isDelete:!1}},onUploadMedia:function(e){e.isSuccess&&this.mutAddMediaFile(e.payload)},generateTitleView:v["a"]})},b=h,w=(a("9aea"),a("2877")),_=Object(w["a"])(b,i,r,!1,null,"27a9724b",null);t["default"]=_.exports},"9aea":function(e,t,a){"use strict";var i=a("35bb"),r=a.n(i);r.a}}]);