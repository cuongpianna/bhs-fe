(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8b8ce1ae"],{1371:function(e,t,i){"use strict";i("1f41")},"1f41":function(e,t,i){},"4d24":function(e,t,i){"use strict";i("8d20")},"5b00":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page-container"},[i("sticky",{attrs:{"z-index":10}},[i("div",{staticClass:"page-header"},[i("div",{staticClass:"left"},[i("div",{staticClass:"meta-title"},[e._v(e._s(e.generateTitleView("listRecruitment","recruitment")))])]),i("div",{staticClass:"right"},[i("vs-input",{staticClass:"full-width",attrs:{primary:"",placeholder:e.generateTitleView("searchByName","common")},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getData(t)}},scopedSlots:e._u([{key:"icon",fn:function(){return[i("i",{staticClass:"bx bx-search"})]},proxy:!0}]),model:{value:e.listQuery.name,callback:function(t){e.$set(e.listQuery,"name",t)},expression:"listQuery.name"}}),i("button",{staticClass:"btn btn-primary",on:{click:e.redirectCreate}},[e._v(e._s(e.generateTitleView("addNew","common")))])],1)])]),i("div",{staticClass:"page-content"},[i("div",{staticClass:"recruitment-list bhs-card"},[i("ListRecruitment",{attrs:{total:e.totalCompany,"list-data":e.listCompany},on:{getData:e.getData}}),e.totalCompany>0?i("BHSPagination",{attrs:{background:"",total:e.totalCompany,page:e.listQuery.page,limit:e.listQuery.limit,"page-sizes":[10,20,30,40],position:"right"},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getData}}):e._e()],1)])],1)},a=[],r=i("1da1"),s=i("5530"),c=(i("96cf"),i("b0c0"),i("e377")),l=i("df2b"),o=i("2f62"),u=i("b42a"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wrap"},[i("div",{staticClass:"body"},[0===e.total?i("div",{staticClass:"no-data"},[e._v(" "+e._s(e.generateTitleView("empty","common"))+" ")]):i("vs-table",{staticClass:"bhs-table",scopedSlots:e._u([{key:"thead",fn:function(){return[i("vs-tr",[i("vs-th",{staticClass:"title",staticStyle:{width:"auto"}},[i("div",{staticClass:"title-list "},[e._v(e._s(e.generateTitleView("name","user")))])]),i("vs-th",{staticStyle:{width:"180px"}},[i("div",{staticClass:"title-list "},[e._v("Kiểm duyệt")])]),i("vs-th",{staticStyle:{width:"250px"}},[i("div",{staticClass:"title-list "},[e._v("Gói dịch vụ đã mua")])]),i("vs-th",{staticStyle:{width:"250px"}},[i("div",{staticClass:"title-list "},[e._v("Email")])]),i("vs-th",{staticStyle:{width:"180px"}},[i("div",{staticClass:"title-list "},[e._v("Phone")])]),i("vs-th",{staticStyle:{width:"250px"}})],1)]},proxy:!0},{key:"tbody",fn:function(){return e._l(e.listData,(function(t,n){return i("vs-tr",{key:n,attrs:{data:t}},[i("vs-td",[i("p",{staticClass:"title-item"},[e._v(e._s(e.truncate(t.name,15)))]),i("p",{staticClass:"description-item"},[e._v(e._s(e.generateTitleView("sizePersonnel","recruitment"))+" : "),i("span",{staticClass:"des-user"},[e._v(e._s(t.companySize.name))])])]),i("vs-td",{staticClass:"text",attrs:{align:"center"}},[t.isActive?i("span",[e._v(e._s(e.generateTitleView("userActive","recruitment")))]):i("span",[e._v(e._s(e.generateTitleView("userNoActive","recruitment")))])]),i("vs-td",{staticClass:"text",attrs:{align:"center"}},[t.serviceRented.length>0?i("div",e._l(t.serviceRented,(function(t,n){return i("div",{key:n,staticClass:"service-item",attrs:{data:t}},[i("span",{staticClass:"name-service"},[e._v(e._s(t.nameService))]),e.calculateDate(t.expiredService)>0?i("p",{staticClass:"expiredDate"},[e._v("Còn "+e._s(e.calculateDate(t.expiredService))+" ngày")]):0===e.calculateDate(t.expiredService)?i("p",{staticClass:"expiredDate"},[e._v("Ngày cuối")]):i("p",{staticClass:"expiredDate"},[e._v("Hết hạn")])])})),0):i("div",[e._v("Chưa mua gói dịch vụ ")])]),i("vs-td",{staticClass:"text",attrs:{v:"",align:"center"}},[null!=t.email?i("span",[e._v(e._s(t.email))]):i("span",[e._v("Chưa cập nhập")])]),i("vs-td",{staticClass:"title-item",attrs:{align:"center"}},[null!=t.phoneNumber?i("span",[e._v(e._s(t.phoneNumber))]):i("span",[e._v("Chưa cập nhập")])]),i("vs-td",{attrs:{align:"right"}},[i("el-dropdown",{staticStyle:{cursor:"pointer"}},[i("span",{staticClass:"el-dropdown-link"},[i("font-awesome-icon",{staticClass:"icon",attrs:{icon:"ellipsis-h"}})],1),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",[i("div",{on:{click:function(i){return e.detailRecruitment(t)}}},[e._v(e._s(e.generateTitleView("detail","common")))])]),i("el-dropdown-item",[null==t.serviceRented||0==t.serviceRented.length?i("div",{on:{click:function(i){return e.addServiceCompany(t)}}},[e._v("Thêm gói dịch vụ")]):i("div",{on:{click:function(i){return e.openEdit(t)}}},[e._v("Chỉnh sửa dịch vụ")])]),i("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:null!==t.serviceRented&&t.serviceRented.length>0,expression:"item.serviceRented!==null&&item.serviceRented.length >0"}]},[i("div",{on:{click:function(i){return e.removeService(t)}}},[e._v("Xóa dịch vụ")])]),i("el-dropdown-item",{attrs:{command:"Deleted",divided:""}},[i("div",{on:{click:function(i){return e.openDialogDelete(t)}}},[e._v("Xóa công ty")])])],1)],1)],1)],1)}))},proxy:!0}])})],1),i("el-dialog",{attrs:{title:"Xóa dịch vụ",visible:e.DeleteService,width:"30%"},on:{"update:visible":function(t){e.DeleteService=t}}},[i("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(t){var n=t.handleSubmit;return[i("form",{on:{submit:function(t){return t.preventDefault(),n(e.acceptDeleteService)}}},[i("div",{staticClass:"con-content"},[i("div",{staticClass:"row-item"},[i("div",{staticClass:"row-title required-text"},[e._v("Tên gói dịch vụ")]),i("ValidationProvider",{attrs:{rules:"required",name:"Gói dịch vụ"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[i("el-checkbox-group",{model:{value:e.listDeleteService,callback:function(t){e.listDeleteService=t},expression:"listDeleteService"}},e._l(e.services,(function(t){return i("el-checkbox",{key:t.id,attrs:{label:t}},[e._v(e._s(t.title))])})),1),i("span",{staticClass:"vee-errors"},[e._v(e._s(n[0]))])]}}],null,!0)})],1)]),i("div",{staticClass:"con-footer"},[i("vs-button",{attrs:{type:"submit"}},[e._v(" "+e._s(e.generateTitleView("confirm","common"))+" ")]),i("vs-button",{attrs:{type:"reset",dark:"",transparent:""},on:{click:function(t){e.DeleteService=!1}}},[e._v(" "+e._s(e.generateTitleView("cancel","common"))+" ")])],1)])]}}])})],1),i("el-dialog",{attrs:{title:e.titleDialog,visible:e.DialogService,width:"30%"},on:{"update:visible":function(t){e.DialogService=t}}},[i("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(t){var n=t.handleSubmit;return[i("form",{on:{submit:function(t){return t.preventDefault(),n(e.acceptAdd)}}},[i("div",{staticClass:"con-content"},[i("div",{staticClass:"row-item"},[i("div",{staticClass:"row-title required-text"},[e._v("Tên gói dịch vụ")]),i("ValidationProvider",{attrs:{rules:"required",name:"Gói dịch vụ"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[i("el-select",{staticClass:"fullWidth",attrs:{clearable:"",multiple:"",filterable:"",placeholder:"Lựa chọn gói dịch vụ","value-key":"id"},model:{value:e.services,callback:function(t){e.services=t},expression:"services"}},e._l(e.listService,(function(e){return i("el-option",{key:e.id,attrs:{label:e.title,value:e}})})),1),i("span",{staticClass:"vee-errors"},[e._v(e._s(n[0]))])]}}],null,!0)})],1)]),i("div",{staticClass:"con-footer"},[i("vs-button",{attrs:{type:"submit"}},[e._v(" "+e._s(e.generateTitleView("confirm","common"))+" ")]),i("vs-button",{attrs:{type:"reset",dark:"",transparent:""},on:{click:function(t){e.DialogService=!1}}},[e._v(" "+e._s(e.generateTitleView("cancel","common"))+" ")])],1)])]}}])})],1),i("vs-dialog",{staticClass:"dialogDelete",attrs:{width:"350px",center:""},scopedSlots:e._u([{key:"header",fn:function(){return[i("h4",{staticClass:"not-margin title-dialog"},[e._v(" "+e._s(e.generateTitleView("infoDialog","common"))+" ")])]},proxy:!0},{key:"footer",fn:function(){return[i("div",{staticClass:"con-footer"},[i("vs-button",{attrs:{type:"submit"},on:{click:function(t){return e.removeItem()}}},[e._v(" "+e._s(e.generateTitleView("confirm","common"))+" ")]),i("vs-button",{attrs:{type:"reset",dark:"",transparent:""},on:{click:function(t){e.DialogDelete=!1}}},[e._v(" "+e._s(e.generateTitleView("cancel","common"))+" ")])],1)]},proxy:!0}]),model:{value:e.DialogDelete,callback:function(t){e.DialogDelete=t},expression:"DialogDelete"}},[i("div",{staticClass:"con-content"},[i("p",[e._v(" "+e._s(e.generateTitleView("confirmDelete","common"))+" "),i("span",{staticClass:"title-select"},[e._v('" '+e._s(e.truncate(e.itemSelect.name,10))+' "')]),e._v(" ? ")])])])],1)},v=[],m=i("b85c"),p=(i("a9e3"),i("d81d"),i("7db0"),i("79fa")),f=i("28ca"),h=i("b35e"),y=i("c1df"),g={name:"ListRecruitment",mixins:[h["a"]],props:{title:{type:String,default:function(){return""}},total:{type:Number,default:function(){return 0}},listData:{type:Array,default:function(){return[]}}},data:function(){return{listQuery:{page:1,limit:10,name:""},titleDialog:"",routerPath:this.$route.path,employeeNumberList:f["f"],itemSelect:{},DialogDelete:!1,DialogService:!1,services:[],DeleteService:!1,listDeleteService:[]}},computed:Object(s["a"])({},Object(o["c"])({listService:"services/allServices",userId:"userId"})),mounted:function(){},methods:Object(s["a"])(Object(s["a"])({},Object(o["b"])({actGetAccounts:"user/getUserPaging",actDeleteCompany:"company/removeCompany",actEditCompany:"company/editCompany",actAddService:"serviceRented/addServices",actDeleteService:"serviceRented/deleteService",actUpdateService:"serviceRented/updateService"})),{},{calculateDate:function(e){var t=y(Date.now()),i=y(e);return i.diff(t,"days")},detailRecruitment:function(e){this.$router.push("/recruiter/detail/"+e.id)},removeService:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:t.DeleteService=!0,t.itemSelect=e,n=e.serviceRented,t.services=n.map((function(e,t,i){return e.serviceInfo.service}));case 4:case"end":return i.stop()}}),i)})))()},acceptDeleteService:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var i,n,a,r,s,c,l,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=[],n=Object(m["a"])(e.listDeleteService);try{for(n.s();!(a=n.n()).done;)r=a.value,s=e.itemSelect.serviceRented.find((function(e){return r===e.serviceInfo.service})),c=null,null!==s&&void 0!==s&&(c=s.serviceInfo.id),l={service:{},companyId:"",createdBy:"",id:"",isActive:!0},l.companyId=e.itemSelect.id,l.createdBy=e.userId,l.service=r,l.id=c,i.push(l)}catch(u){n.e(u)}finally{n.f()}return t.next=5,e.actDeleteService({listServiceRented:i,companyId:e.itemSelect.id});case 5:o=t.sent,e.handleShowNotification(o),e.$emit("getData",""),e.DeleteService=!1,e.listDeleteService=[];case 10:case"end":return t.stop()}}),t)})))()},redirectCreate:function(){this.$router.push("/recruiter/add")},openDialogDelete:function(e){this.DialogDelete=!0,this.itemSelect=e},addServiceCompany:function(e){this.DialogService=!0,this.itemSelect=e,this.services=[],this.titleDialog="Thêm mới dịch vụ"},openEdit:function(e){this.DialogService=!0,this.itemSelect=e,this.titleDialog="Gia hạn và thêm mới dịch vụ";var t=e.serviceRented;this.services=t.map((function(e,t,i){return e.serviceInfo.service}))},acceptAdd:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var i,n,a,r,s,c,l,o,u,d,v,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=[],n="",null!==e.itemSelect.serviceRented&&0!==e.itemSelect.serviceRented.length){t.next=10;break}a=Object(m["a"])(e.services);try{for(a.s();!(r=a.n()).done;)s=r.value,c={service:{},companyId:"",createdBy:"",isActive:!0},c.companyId=e.itemSelect.id,c.createdBy=e.userId,c.service=s,i.push(c)}catch(f){a.e(f)}finally{a.f()}return t.next=7,e.actAddService(i);case 7:n=t.sent,t.next=15;break;case 10:l=Object(m["a"])(e.services);try{for(l.s();!(o=l.n()).done;)u=o.value,d=e.itemSelect.serviceRented.find((function(e){return u===e.serviceInfo.service})),v=null,null!==d&&void 0!==d&&(v=d.serviceInfo.id),p={service:{},companyId:"",createdBy:"",id:"",isActive:!0},p.companyId=e.itemSelect.id,p.createdBy=e.userId,p.service=u,p.id=v,i.push(p)}catch(f){l.e(f)}finally{l.f()}return t.next=14,e.actUpdateService({listServiceRented:i,companyId:e.itemSelect.id});case 14:n=t.sent;case 15:e.handleShowNotification(n),e.DialogService=!1,e.$emit("getData","");case 18:case"end":return t.stop()}}),t)})))()},removeItem:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.actDeleteCompany(e.itemSelect);case 2:i=t.sent,e.handleShowNotification(i),e.DialogDelete=!1,e.$emit("getData","");case 6:case"end":return t.stop()}}),t)})))()},redirectUpdate:function(e){"/recruiter"===this.routerPath?this.$router.push("/recruiter/edit/"+e.id):this.$router.push("/client/edit/"+e.id)},handleSubmitAdd:function(){},generateTitleView:p["a"]})},S=g,_=(i("4d24"),i("2877")),b=Object(_["a"])(S,d,v,!1,null,"22c71e85",null),C=b.exports,w=i("b804"),D={name:"RecruitmentIndex",components:{Sticky:w["a"],ListRecruitment:C,BHSPagination:u["a"],ChartsUser:l["a"],UserList:c["a"]},data:function(){return{listQuery:{page:1,limit:10,name:""}}},computed:Object(s["a"])({},Object(o["c"])({listCompany:"company/companyList",totalCompany:"company/totalCompany"})),mounted:function(){this.getData(),this.getAllService()},methods:Object(s["a"])(Object(s["a"])({},Object(o["b"])({actGetListCompany:"company/getPaginationCompany",actDeleteCompany:"company/removeCompany",actEditCompany:"company/editCompany",actGetRecruiter:"account/getRecruitmentInfo",actGetAllService:"services/getAll"})),{},{getData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.actGetListCompany({current_page:e.listQuery.page,limit:e.listQuery.limit,name:e.listQuery.name});case 2:case"end":return t.stop()}}),t)})))()},getAllService:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.actGetAllService();case 2:case"end":return t.stop()}}),t)})))()},redirectCreate:function(){this.$router.push("/recruiter/add")},generateTitleView:p["a"]})},k=D,x=(i("1371"),Object(_["a"])(k,n,a,!1,null,"09cba82e",null));t["default"]=x.exports},"7db0":function(e,t,i){"use strict";var n=i("23e7"),a=i("b727").find,r=i("44d2"),s=i("ae40"),c="find",l=!0,o=s(c);c in[]&&Array(1)[c]((function(){l=!1})),n({target:"Array",proto:!0,forced:l||!o},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),r(c)},"8d20":function(e,t,i){}}]);