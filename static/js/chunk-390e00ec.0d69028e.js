(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-390e00ec"],{"1c04":function(e,t,i){e.exports=i.p+"static/img/video.3cdeea4e.png"},"7c64b":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"content",staticClass:"page-container"},[a("sticky",{attrs:{"z-index":10}},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"left"},[a("div",{staticClass:"meta-title"},[e._v(e._s(e.generateTitleView("listNews","news")))])]),a("div",{staticClass:"right"},[a("div",{staticClass:"search-type"},[a("vs-select",{staticClass:"full-width",attrs:{primary:"",state:"primary"},on:{change:e.getListNews},model:{value:e.searchNewsType,callback:function(t){e.searchNewsType=t},expression:"searchNewsType"}},e._l(e.listTypeNews,(function(t){return a("vs-option",{key:t.value,attrs:{label:t.label,value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1),a("vs-input",{staticClass:"full-width",attrs:{primary:"",placeholder:e.generateTitleView("searchByTitle","common")},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getListNews(t)}},scopedSlots:e._u([{key:"icon",fn:function(){return[a("i",{staticClass:"bx bx-search"})]},proxy:!0}]),model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}}),a("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.redirectCreate()}}},[e._v(e._s(e.generateTitleView("createNews","news")))])],1)])]),a("div",{staticClass:"page-content"},[0===e.listTotalNew?a("div",{staticClass:"no-data"},[e._v(" "+e._s(e.generateTitleView("empty","common"))+" ")]):a("vs-table",{scopedSlots:e._u([{key:"thead",fn:function(){return[a("vs-tr",[a("vs-th",{staticStyle:{width:"150px"}},[a("div",{staticClass:"title-list "},[e._v(" Avatar")])]),a("vs-th",{staticClass:"title",staticStyle:{width:"auto"}},[a("div",{staticClass:"title-list "},[e._v(" "+e._s(e.generateTitleView("title","common")))])]),a("vs-th",{staticStyle:{width:"180px"}},[a("div",{staticClass:"title-list"},[e._v(" "+e._s(e.generateTitleView("public","common")))])]),a("vs-th",{staticStyle:{width:"180px"}},[a("div",{staticClass:"title-list"},[e._v(e._s(e.generateTitleView("publicDate","common")))])]),a("vs-th",{staticStyle:{width:"360px"}})],1)]},proxy:!0},{key:"tbody",fn:function(){return e._l(e.listNews,(function(t,s){return a("vs-tr",{key:s,attrs:{data:t}},[a("vs-td",[3===t.newsType?a("div",{staticClass:"thumbnail-item"},[1===t.seminarType?a("div",[""===t.avatar?a("img",{attrs:{src:i("afa5")}}):a("img",{attrs:{src:e.mediaFolder+t.avatar}})]):a("div",[a("img",{attrs:{src:i("1c04"),alt:""}})])]):a("div",{staticClass:"thumbnail-item"},[""===t.avatar?a("img",{attrs:{src:i("afa5")}}):a("img",{attrs:{src:e.mediaFolder+t.avatar}})])]),a("vs-td",[a("p",{staticClass:"title-item"},[e._v(e._s(e.truncate(t.title,15)))]),a("p",{staticClass:"description-item"},[e._v(e._s(e.generateTitleView("default","news.category"))+": "),e._l(t.categories,(function(t,i){return a("span",{key:t.id,staticClass:"cate"},[i?a("span",[e._v(",")]):e._e(),e._v(" "+e._s(t.name)+" ")])}))],2),a("p",{staticClass:"create-date-item"},[e._v(e._s(e.generateTitleView("createdDate","common"))+" : "),a("span",{staticClass:"date-public-item"},[e._v(e._s(e._f("dayMonthYear")(t.created)))])])]),a("vs-td",{attrs:{align:"center"}},[a("vs-checkbox",{attrs:{disabled:""},model:{value:t.isPublish,callback:function(i){e.$set(t,"isPublish",i)},expression:"tr.isPublish"}})],1),a("vs-td",{attrs:{align:"center"}},[a("span",{staticClass:"date-public-item"},[e._v(e._s(e._f("dayMonthYear")(t.created)))])]),a("vs-td",{attrs:{align:"right"}},[a("div",{staticClass:"action-button"},[a("button",{staticClass:"btn btn-duplicate__item"},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:["far","clone"]},on:{click:function(i){return e.openDialogDuplicate(t)}}})],1),a("button",{staticClass:"btn btn-primary btn-edit__item",on:{click:function(i){return e.editItem(t)}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"pen"}}),a("span",[e._v(e._s(e.generateTitleView("edit","common")))])],1),a("button",{staticClass:"btn btn-danger btn-remove__item",on:{click:function(i){return e.openDialogDelete(t)}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"trash"}}),a("span",[e._v(e._s(e.generateTitleView("delete","common")))])],1)])])],1)}))},proxy:!0}])}),e.listTotalNew>0?a("BHSPagination",{attrs:{background:"",total:e.listTotalNew,page:e.listQuery.page,limit:e.listQuery.limit,"page-sizes":[10,20,30,40],position:"right"},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getListNews}}):e._e(),a("vs-dialog",{staticClass:"dialogDuplicate",attrs:{width:"350px",center:""},scopedSlots:e._u([{key:"header",fn:function(){return[a("h4",{staticClass:"not-margin title-dialog"},[e._v(" "+e._s(e.generateTitleView("infoDialog","common"))+" ")])]},proxy:!0},{key:"footer",fn:function(){return[a("div",{staticClass:"con-footer"},[a("vs-button",{attrs:{type:"submit"},on:{click:function(t){return e.duplicateItem()}}},[e._v(" "+e._s(e.generateTitleView("confirm","common"))+" ")]),a("vs-button",{attrs:{type:"reset",dark:"",transparent:""},on:{click:function(t){e.DialogDuplicate=!1}}},[e._v(" "+e._s(e.generateTitleView("cancel","common"))+" ")])],1)]},proxy:!0}]),model:{value:e.DialogDuplicate,callback:function(t){e.DialogDuplicate=t},expression:"DialogDuplicate"}},[a("div",{staticClass:"con-content"},[a("p",[e._v(" "+e._s(e.generateTitleView("confirmDuplicate","common"))),a("span",{staticClass:"title-select"},[e._v(' " '+e._s(e.truncate(e.itemSelect.title,15))+' " ')]),e._v(" ? ")])])]),a("vs-dialog",{staticClass:"dialogDelete",attrs:{width:"350px",center:""},scopedSlots:e._u([{key:"header",fn:function(){return[a("h4",{staticClass:"not-margin title-dialog"},[e._v(" "+e._s(e.generateTitleView("infoDialog","common"))+" ")])]},proxy:!0},{key:"footer",fn:function(){return[a("div",{staticClass:"con-footer"},[a("vs-button",{attrs:{type:"submit"},on:{click:function(t){return e.removeItem()}}},[e._v(" "+e._s(e.generateTitleView("confirm","common"))+" ")]),a("vs-button",{attrs:{type:"reset",dark:"",transparent:""},on:{click:function(t){e.DialogDelete=!1}}},[e._v(" "+e._s(e.generateTitleView("cancel","common"))+" ")])],1)]},proxy:!0}]),model:{value:e.DialogDelete,callback:function(t){e.DialogDelete=t},expression:"DialogDelete"}},[a("div",{staticClass:"con-content"},[a("p",[e._v(" "+e._s(e.generateTitleView("confirmDelete","common"))+" "),a("span",{staticClass:"title-select"},[e._v('"'+e._s(e.truncate(e.itemSelect.title,15))+'"')]),e._v(" ? ")])])])],1)],1)},s=[],n=i("1da1"),c=i("5530"),l=(i("96cf"),i("2f62")),r=i("79fa"),o=i("b42a"),u=i("b35e"),m=i("6c9c"),p=i("b804"),d={name:"News",components:{Sticky:p["a"],BHSPagination:o["a"]},mixins:[u["a"]],data:function(){return{listQuery:{page:1,limit:10},activeLoading:!1,DialogDelete:!1,DialogDuplicate:!1,checkRemove:!1,itemSelect:{},searchQuery:"",listRole:[],listTypeNews:[{value:0,label:"Tất cả thể loại bài viết "},{value:1,label:"Hành trang nghề nghiệp "},{value:2,label:"Tin tức"},{value:3,label:"Tin hội thảo"},{value:4,label:"Tin hội hoạt động trải nghiệm"},{value:5,label:"Tin game"}],searchNewsType:0}},computed:Object(c["a"])({},Object(l["c"])({listNews:"news/listNews",listTotalNew:"news/listTotalNew"})),mounted:function(){this.getListNews()},methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])({actGetListNews:"news/getPagingNews",actCreateNews:"news/createNews",actRemoveNews:"news/removeNews",actDuplicateNews:"news/duplicateNews",actGetInfoNews:"news/getInfoNews"})),{},{getListNews:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.$vs.loading({type:"scale",target:e.$refs.content}),t.next=3,e.actGetListNews({current_page:e.listQuery.page,limit:e.listQuery.limit,title:e.searchQuery,newsType:e.searchNewsType});case 3:i.close();case 4:case"end":return t.stop()}}),t)})))()},openDialogDelete:function(e){this.hasPermissionAction(m["a"].DELETE_NEWS,"",this.generateTitleView("noRole","common"))&&(this.DialogDelete=!0,this.itemSelect=e)},openDialogDuplicate:function(e){this.hasPermissionAction(m["a"].CREATE_NEWS,"",this.generateTitleView("noRole","common"))&&(this.DialogDuplicate=!0,this.itemSelect=e)},removeItem:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.actRemoveNews(e.itemSelect.id);case 2:return i=t.sent,e.handleShowNotification(i),e.DialogDelete=!1,t.next=7,e.getListNews();case 7:case"end":return t.stop()}}),t)})))()},editItem:function(e){this.hasPermissionAction(m["a"].EDIT_NEWS,"news/edit/"+e.id,this.generateTitleView("noRole","common"))},duplicateItem:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.itemSelect.id="",t.next=3,e.actDuplicateNews(e.itemSelect);case 3:return i=t.sent,e.handleShowNotification(i),e.DialogDuplicate=!1,t.next=8,e.getListNews();case 8:case"end":return t.stop()}}),t)})))()},redirectCreate:function(){this.hasPermissionAction(m["a"].CREATE_NEWS,"news/create",this.generateTitleView("noRole","common"))},generateTitleView:r["a"]})},v=d,g=(i("dec8"),i("2877")),w=Object(g["a"])(v,a,s,!1,null,"e04cd65e",null);t["default"]=w.exports},b228:function(e,t,i){},dec8:function(e,t,i){"use strict";i("b228")}}]);