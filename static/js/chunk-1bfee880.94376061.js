(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1bfee880"],{"1c14":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wrap"},[i("div",{staticClass:"page-header"},[i("div",{staticClass:"left"},[i("div",{staticClass:"meta-title"},[e._v(e._s(e.generateTitleView("listCVTemplates","cvTemplate")))])]),i("div",{staticClass:"right"},[i("div",{staticClass:"search-type"},[i("vs-input",{staticClass:"full-width",attrs:{primary:"",placeholder:e.generateTitleView("searchByTitle","common")},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getCVTemplate(t)}},scopedSlots:e._u([{key:"icon",fn:function(){return[i("i",{staticClass:"bx bx-search"})]},proxy:!0}]),model:{value:e.listQuery.searchText,callback:function(t){e.$set(e.listQuery,"searchText",t)},expression:"listQuery.searchText"}})],1)])]),i("div",{staticClass:"page-content"},[0===e.totalCVTemplates?i("div",{staticClass:"no-data"},[e._v(" "+e._s(e.generateTitleView("empty","common"))+" ")]):i("vs-table",{staticClass:"bhs-table",scopedSlots:e._u([{key:"thead",fn:function(){return[i("vs-tr",[i("vs-th",{staticStyle:{width:"100px"}},[i("div",{staticClass:"title-list",attrs:{align:"center"}},[e._v("Trạng thái hoạt động")])]),i("vs-th",{staticClass:"title",staticStyle:{width:"30%"}},[i("div",{staticClass:"title-list",attrs:{align:"left"}},[e._v("Tên mẫu CV")])]),i("vs-th",{staticStyle:{width:"150px"}},[i("div",{staticClass:"title-list "},[e._v(" Ảnh")])]),i("vs-th",{staticStyle:{width:"15%"}},[i("div",{staticClass:"title-list",attrs:{align:"center"}},[e._v("Áp dụng phí")])]),i("vs-th",{staticStyle:{width:"100px"}},[i("div",{staticClass:"title-list",attrs:{align:"center"}},[e._v("Điểm để mở mẫu CV")])]),i("vs-th",{staticStyle:{width:"160px"}},[i("div",{staticClass:"title-list"},[e._v(" "+e._s(e.generateTitleView("Action","settingpoint")))])])],1)]},proxy:!0},{key:"tbody",fn:function(){return e._l(e.listCVTemplates,(function(t,s){return i("vs-tr",{key:s,attrs:{data:t}},[i("vs-td",[i("vs-checkbox",{attrs:{disabled:""},model:{value:t.isActive,callback:function(a){e.$set(t,"isActive",a)},expression:"item.isActive"}})],1),i("vs-td",{attrs:{align:"left"}},[i("span",{staticClass:"title-item"},[e._v(e._s(t.templateName))])]),i("vs-td",[i("div",{staticClass:"thumbnail-item"},[""!==t.image&&t.image?i("img",{attrs:{src:e.mediaFolder+t.image}}):i("img",{attrs:{src:a("afa5")}})])]),i("vs-td",{attrs:{align:"center"}},[!1===t.isFree?i("vs-checkbox",{attrs:{disabled:""},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}}):i("vs-checkbox",{attrs:{disabled:""}})],1),i("vs-td",{attrs:{align:"center"}},[i("span",{staticClass:"title-item"},[e._v(e._s(t.point))])]),i("vs-td",{attrs:{align:"center"}},[i("button",{staticClass:"btn btn-primary btn-edit__item action-button",on:{click:function(a){return e.openEditCvTemplates(t)}}},[i("font-awesome-icon",{staticClass:"icon",attrs:{icon:"pen"}}),i("span",[e._v(e._s(e.generateTitleView("edit","common")))])],1)])],1)}))},proxy:!0}])}),e.totalCVTemplates>0?i("BHSPagination",{attrs:{background:"",total:e.totalCVTemplates,page:e.listQuery.page,limit:e.listQuery.limit,"page-sizes":[10,20,30,40],position:"right"},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getCVTemplate}}):e._e(),i("vs-dialog",{staticClass:"dialogPackage dialog",attrs:{width:"350px",center:""},scopedSlots:e._u([{key:"header",fn:function(){return[i("h4",{staticClass:"not-margin title-dialog"},[e._v(" "+e._s(e.generateTitleView("titleEdit","cvTemplate"))+" ")])]},proxy:!0}]),model:{value:e.dialogCvTemplateEdit,callback:function(t){e.dialogCvTemplateEdit=t},expression:"dialogCvTemplateEdit"}},[i("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(t){var a=t.handleSubmit,s=t.reset;return[i("form",{on:{submit:function(t){return t.preventDefault(),a(e.handleSubmitCV)},reset:function(e){return e.preventDefault(),s(e)}}},[i("div",{staticClass:"folder-wrap"},[i("ValidationProvider",{attrs:{rules:"required",name:"Tên mẫu"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[i("vs-input",{staticClass:"full-width",attrs:{border:"",placeholder:e.generateTitleView("TemplateName","cvTemplate")},scopedSlots:e._u([{key:"icon",fn:function(){return[i("i",{staticClass:"bx bx-copy-alt"})]},proxy:!0}],null,!0),model:{value:e.cvTemplate.templateName,callback:function(t){e.$set(e.cvTemplate,"templateName",t)},expression:"cvTemplate.templateName"}}),i("span",{staticClass:"vee-errors"},[e._v(e._s(a[0]))])]}}],null,!0)}),i("div",{staticClass:"folder-wrap"},[i("ValidationProvider",{attrs:{rules:"required|number",name:"Số điểm"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[i("vs-input",{staticClass:"full-width",attrs:{border:"",placeholder:e.generateTitleView("Point","cvTemplate")},scopedSlots:e._u([{key:"icon",fn:function(){return[i("i",{staticClass:"bx bx-copy-alt"})]},proxy:!0}],null,!0),model:{value:e.cvTemplate.point,callback:function(t){e.$set(e.cvTemplate,"point",t)},expression:"cvTemplate.point"}}),i("span",{staticClass:"vee-errors"},[e._v(e._s(a[0]))])]}}],null,!0)})],1),i("div",{staticClass:"folder-wrap"},[i("input",{ref:"file",staticClass:"full-width form-control",attrs:{id:"file",type:"file"},on:{change:e.onFileChange}})]),i("div",{staticClass:"folder-wrap"},[i("vs-checkbox",{model:{value:e.cvTemplate.isActive,callback:function(t){e.$set(e.cvTemplate,"isActive",t)},expression:"cvTemplate.isActive"}},[e._v(" "+e._s(e.generateTitleView("IsActive","cvTemplate"))+" ")])],1),i("div",{staticClass:"folder-wrap"},[!1===e.isFree?i("vs-checkbox",{model:{value:e.cvTemplate.isFree,callback:function(t){e.$set(e.cvTemplate,"isFree",t)},expression:"cvTemplate.isFree"}},[e._v(" "+e._s(e.generateTitleView("IsFree","cvTemplate"))+" ")]):e._e(),!0===e.isFree?i("vs-checkbox",[e._v(" "+e._s(e.generateTitleView("IsFree","cvTemplate"))+" ")]):e._e()],1),i("div",{staticClass:"con-footer"},[i("vs-button",{attrs:{type:"submit"}},[e._v(" "+e._s(e.generateTitleView("confirm","common"))+" ")]),i("vs-button",{attrs:{type:"reset",dark:"",transparent:""},on:{click:function(t){e.dialogCvTemplateEdit=!1}}},[e._v(" "+e._s(e.generateTitleView("cancel","common"))+" ")])],1)],1)])]}}])})],1)],1)])},s=[],l=a("1da1"),n=a("5530"),r=(a("96cf"),a("d3b7"),a("b0c0"),a("2f62")),c=a("79fa"),o=a("b42a"),p=a("b35e"),d=function(e){return new Promise((function(t,a){var i=new FileReader;i.readAsDataURL(e),i.onload=function(){return t(i.result)},i.onerror=function(e){return a(e)}}))},m={name:"ListCVTemplates",components:{BHSPagination:o["a"]},mixins:[p["a"]],data:function(){return{file:null,listQuery:{userType:1,page:1,limit:10,searchText:"",expiredDate:null},isActive:!1,isFree:!1,searchQuery:"",DialogDelete:!1,itemSelect:{},dialogCvTemplateEdit:!1,dialogAcceptEdit:!1,cvTemplate:{templateName:"",IsActive:!1,isFree:!1,point:0},selectedItem:{},checked:!0}},computed:Object(n["a"])({},Object(r["c"])({listCVTemplates:"cvtemplate/listCVTemplates",totalCVTemplates:"cvtemplate/totalCVTemplates"})),mounted:function(){this.getCVTemplate()},methods:Object(n["a"])(Object(n["a"])({},Object(r["b"])({actGetCVTemplate:"cvtemplate/getPagination",actEditTemplate:"cvtemplate/edit"})),{},{onFileChange:function(){var e=this.$refs.file.files[0];this.file=e},handleSubmitCV:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.file,i=JSON.parse(JSON.stringify(e.cvTemplate)),!a){t.next=6;break}d(a).then((function(t){var s=t,l=a.name.substr(a.name.lastIndexOf(".")+1);i.base64Image=s,i.extension=l,e.actEditTemplate(i)})),t.next=10;break;case 6:return t.next=8,e.actEditTemplate(e.cvTemplate);case 8:s=t.sent,e.handleShowNotification(s);case 10:e.selectedItem=null,e.cvTemplate={templateName:"",isActive:!1,isFree:!1,point:0},e.dialogCvTemplateEdit=!1,e.getCVTemplate();case 14:case"end":return t.stop()}}),t)})))()},getCVTemplate:function(){this.actGetCVTemplate({current_page:this.listQuery.page,limit:this.listQuery.limit,TemplateName:this.listQuery.searchText})},openEditCvTemplates:function(e){this.dialogCvTemplateEdit=!0,console.log(e);var t={id:e.id,isFree:e.isFree,isActive:e.isActive,point:e.point,templateName:e.templateName};this.cvTemplate=t},generateTitleView:c["a"]})},u=m,v=(a("79b1"),a("2877")),f=Object(v["a"])(u,i,s,!1,null,"6e6e19a2",null);t["default"]=f.exports},"6da0":function(e,t,a){},"79b1":function(e,t,a){"use strict";a("6da0")}}]);